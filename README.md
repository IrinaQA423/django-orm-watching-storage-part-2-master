# Пульт охраны  банка

Это `Django-приложение` для  мониторинга посещений хранилища  по  пропускам. Система  отслеживает:
- Активные пропуски
- Все визиты по каждому пропуску
- Текущих посетителей в  хранилище
- Длительность их нахождения в хранилище
- Подозрительно долгие  визиты(> 1 часа)

## Как установить

1. Установите на компьютер `Python3`.

2. Скачайте все файлы проекта на свой компьютер.

```
https://github.com/IrinaQA423/django-orm-watching-storage-part-2-master.git
```

3. Установите зависимости.

```sh
pip install -r requirements.txt
```

## Как настроить окружение перед запуском программы

`DB_ENGINE` - движок базы  данных, который  будет  использовать  `Django`.
В зависимости  от используемой базы  данных, нужно  указать  следующий  движок.
- Для `PostgreSQL`: `'django.db.backends.postgresql'`  
- Для `SQLite`: `'django.db.backends.sqlite3'`  
- Для `MySQL`: `'django.db.backends.mysql'`

`DB_HOST` - адрес сервера  базы  данных.
- Если  база данных локальная: `'localhost'` или `'127.0.0.1'`
- Если  база  данных на  удаленном сервере: `IP` или `домен`

`DB_PORT` - порт, на  котором  работает база  данных.
В зависимости  от используемой базы  данных, нужно  указать  следующий порт.
- PostgreSQL: `'5432'`  
- MySQL: `'3306'`  
- SQLite: оставить пустым (`''`)  

`DB_NAME` - имя  базы  данных, к которой будет подключаться Django. Например, `'mydatabase'`  

`DB_USER` - имя пользователя для подключения к базе данных. Например, `'postgres'` 

`DB_PASSWORD`  - пароль пользователя  базы  данных.
Например, `'password123'`  

`SECRET_KEY` - секретный ключ Django, используемый для шифрования данных (сессии, CSRF-токены и т. д.). Представляет собой уникальную случайную строку, которую можно сгенерировать в командной строке вашей операционной  системы.

```bush
python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
```
`ALLOWED_HOSTS` - адрес сайта в интернете, который может обслуживаться приложением. 

`DEBUG` - yказывает, находится ли приложение в режиме отладки.

- Для разработки значение должно быть `true`, чтобы видеть подробные сообщения об ошибках.
- Важно установить это значение в `false` в продакшене для повышения безопасности.

### Где  хранить чувствительные данные?

В корне проекта создайте файл `.env` и поместите в него `DB_ENGINE`, `DB_HOST`, `DB_PORT`, `DB_NAME`, `DB_USER`, `DB_PASSWORD`, `SECRET_KEY`, `ALLOWED_HOSTS`, `DEBUG`.

![](https://github.com/IrinaQA423/gists1/blob/main/Screenshot_30.png?raw=true)


## Как запустить  программу?

1. Запустите файл `manage.py`.

```sh
python manage.py runserver 0.0.0.0:8000
```
## Использование

После  запуска сервера откройте в браузере:

```text
http://127.0.0.1:8000/
```

## Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org).
